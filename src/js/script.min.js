$(".telegram-form").on("submit",(function(e){e.stopPropagation(),e.preventDefault();let t=this,o=($(".submit",t),new FormData);$("input[type=file]");return $(".submit",t).val("Отправка..."),$("input, textarea",t).attr("disabled",""),o.append("name",$('[name="name"]',t).val()),o.append("phone",$('[name="phone"]',t).val()),$.ajax({url:"ajax.php",type:"POST",data:o,cache:!1,dataType:"json",processData:!1,contentType:!1,xhr:function(){let e=$.ajaxSettings.xhr();return e.upload&&e.upload.addEventListener("progress",(function(e){if(e.lengthComputable){let o=e.loaded/e.total*100;o=o.toFixed(0),$(".submit",t).html(o+"%")}}),!1),e},error:function(e,t){},complete:function(){console.log("Complete"),t.reset()}}),!1}));const nav=document.getElementById("header__nav"),body=document.querySelector("body"),openBtn=document.querySelectorAll(".open-modal"),modalOverlay=document.getElementById("modal__overlay"),modalWindow=document.getElementById("modal__window"),closeBtn=document.getElementById("closeBtn"),submitBtn=document.getElementById("submitBtn"),scrollWidth=window.innerWidth-document.body.clientWidth;openBtn.forEach((e=>{e.addEventListener("click",(()=>{nav.style.padding=`0 ${scrollWidth}px 0 0`,body.style.padding=`0 ${scrollWidth}px 0 0`,modalOverlay.classList.add("_active"),modalWindow.classList.add("_active"),body.classList.add("_lock")}))})),document.addEventListener("click",(e=>{e.target!==closeBtn&&e.target!==submitBtn&&e.target!==modalOverlay||(nav.style.padding="0",body.style.padding="0",modalOverlay.classList.remove("_active"),modalWindow.classList.remove("_active"),body.classList.remove("_lock"))})),window.addEventListener("load",(()=>{const e=document.getElementById("header__burger"),t=document.getElementById("header__menu"),o=document.getElementById("header__nav"),a=document.querySelector("body"),n=document.documentElement,s=document.querySelectorAll(".header__link[data-goto]"),l=document.getElementById("about__text"),c=document.getElementById("about__image"),d=Array.from(document.querySelectorAll(".price-item")),i=Array.from(document.querySelectorAll(".section__content_gallery img")),r=Array.from(document.querySelectorAll(".section__content_reviews .reviews-item")),m=Math.max(a.clientHeight,a.offsetHeight,a.scrollHeight,n.offsetHeight,n.clientHeight),u=[];for(let e=0;e<s.length;e++){const t=document.querySelector(s[e].dataset.goto);u[e]=t.getBoundingClientRect().top+pageYOffset-document.querySelector(".header__nav").offsetHeight-100}function v(n){const s=n.target;if(s.dataset.goto&&document.querySelector(s.dataset.goto)){const l=document.querySelector(s.dataset.goto).getBoundingClientRect().top+pageYOffset-document.querySelector(".header__nav").offsetHeight;t.classList.contains("_active")&&(t.classList.remove("_active"),e.classList.remove("_active"),o.classList.remove("_active"),a.classList.remove("_lock")),window.scrollTo({top:l,behavior:"smooth"}),n.preventDefault()}}u.push(m),u.unshift(0),e.addEventListener("click",(()=>{e.classList.toggle("_active"),t.classList.toggle("_active"),o.classList.toggle("_active"),t.classList.contains("_active")?a.classList.add("_lock"):a.classList.remove("_lock")})),document.addEventListener("scroll",(()=>{if(window.scrollY>=100){o.classList.add("_scroll");for(let e=1;e<u.length-1;e++)window.pageYOffset>=u[e]&&window.pageYOffset<u[e+1]?(s.forEach((e=>{e.classList.remove("_active")})),s[e-1].classList.add("_active")):(window.pageYOffset>=u[u.length-1]-window.innerHeight||window.pageYOffset>=m-window.innerHeight)&&(s.forEach((e=>{e.classList.remove("_active")})),s[s.length-1].classList.add("_active"))}else o.classList.remove("_scroll"),s.forEach((e=>{e.classList.remove("_active")}));s.forEach(((e,t)=>{"#section_about"===e.dataset.goto?u[t+1]<=window.scrollY+350&&u[t+2]>=window.scrollY+50?(l.classList.add("_active"),c.firstElementChild.classList.add("_active")):(l.classList.remove("_active"),c.firstElementChild.classList.remove("_active")):"#section_price"===e.dataset.goto&&(u[3]<=window.scrollY+350&&u[4]>=window.scrollY+100?d.forEach((e=>{e.classList.add("_active")})):d.forEach((e=>{e.classList.remove("_active")})))}))})),document.addEventListener("DOMContentLoaded",(()=>{window.innerWidth<600&&(i.forEach(((e,t)=>{t%2!=0&&e.classList.add("_hidden")})),r.forEach(((e,t)=>{t%2!=0&&e.classList.add("_hidden")})))})),s.length>0&&s.forEach((e=>{e.addEventListener("click",v)}))}));
//# sourceMappingURL=../maps/script.min.js.map
